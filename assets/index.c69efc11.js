import{o as n,c as u,a as i,n as p,r as g,F as l,b as k,d as m,e as f,f as v}from"./vendor.0550dc41.js";const x=function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))h(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const c of t.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&h(c)}).observe(document,{childList:!0,subtree:!0});function o(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?t.credentials="include":e.crossorigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function h(e){if(e.ep)return;e.ep=!0;const t=o(e);fetch(e.href,t)}};x();var y=(r,s)=>{const o=r.__vccOpts||r;for(const[h,e]of s)o[h]=e;return o};const _={props:["fromX","fromY","toX","toY","stroke"],computed:{padding(){return this.stroke*2},left(){return(this.fromX<this.toX?this.fromX:this.toX)-this.padding},top(){return(this.fromY<this.toY?this.fromY:this.toY)-this.padding},width(){return Math.abs(this.fromX-this.toX)+this.padding*2},height(){return Math.abs(this.fromY-this.toY)+this.padding*2},viewBox(){return`0 0 ${this.width} ${this.height}`},x1(){return this.fromX<this.toX?this.padding:this.width-this.padding},y1(){return this.fromY<this.toY?this.padding:this.height-this.padding},x2(){return this.fromX<this.toX?this.width-this.padding:this.padding},y2(){return this.fromY<this.toY?this.height-this.padding:this.padding},style(){return{position:"absolute",left:`${this.left}px`,top:`${this.top}px`}}}},w=["width","height","viewBox"],L=["x1","y1","x2","y2","stroke-width"],X=["cx","cy","r"],Y=i("marker",{id:"triangle",viewBox:"0 0 10 10",refX:"10",refY:"5",markerUnits:"strokeWidth",markerHeight:"4",orient:"auto"},[i("path",{d:"M 0 0 L 10 5 L 0 10 z"})],-1),b=["cx","cy","r"];function E(r,s,o,h,e,t){return n(),u("svg",{xmlns:"http://www.w3.org/2000/svg",class:"connector",width:t.width,height:t.height,viewBox:t.viewBox,style:p(t.style)},[i("line",{x1:t.x1,y1:t.y1,x2:t.x2,y2:t.y2,stroke:"black","stroke-width":o.stroke,"marker-end":"url(#triangle)"},null,8,L),i("circle",{cx:t.x1,cy:t.y1,r:o.stroke,stroke:"black",fill:"white","stroke-width":"2"},null,8,X),Y,i("circle",{cx:t.x2,cy:t.y2,r:o.stroke,stroke:"black",fill:"white","stroke-width":"2"},null,8,b)],12,w)}var B=y(_,[["render",E]]);const U={components:{Connector:B},data(){return{points:[],current:{}}},mounted(){this.mouseUpListener=r=>{this.points.push(this.snapped({x:r.pageX,y:r.pageY}))},this.mouseMoveListener=r=>{this.current=this.snapped({x:r.pageX,y:r.pageY})},this.keyUpHandler=r=>{["Escape","Backspace"].includes(r.key)&&this.points.pop(),["Enter"].includes(r.key)&&(this.current={},document.removeEventListener("mouseup",this.mouseUpListener),document.removeEventListener("mousemove",this.mouseMoveListener),document.removeEventListener("keyup",this.keyUpHandler))},document.addEventListener("mouseup",this.mouseUpListener),document.addEventListener("mousemove",this.mouseMoveListener),document.addEventListener("keyup",this.keyUpHandler)},beforeUnmount(){document.removeEventListener("mouseup",this.mouseUpListener),document.removeEventListener("mousemove",this.mouseMoveListener),document.removeEventListener("keyup",this.keyUpHandler)},methods:{snapToGrid(r,s=50){return Math.round(r/s)*s},snapped(r){const{x:s,y:o}=r;return{x:this.snapToGrid(s),y:this.snapToGrid(o)}}}},M=i("p",{style:{"text-align":"center"}},"Click to plot a line. Backspace to undo. Enter to finish",-1),C={key:1,style:{width:"100vw",height:"100vh",position:"absolute",display:"flex","align-items":"center","justify-content":"center"}};function H(r,s,o,h,e,t){const c=g("Connector");return n(),u(l,null,[M,e.points.length?(n(),u(l,{key:0},[(n(!0),u(l,null,k(e.points,(d,a)=>(n(),u(l,null,[i("span",{style:p({position:"absolute",left:`${d.x-2}px`,top:`${d.y-2}px`,width:"4px",height:"4px",background:"black",borderRadius:"100%",zIndex:1e3})},null,4),a>0?(n(),m(c,{key:0,fromX:e.points[a-1].x,fromY:e.points[a-1].y,toX:d.x,toY:d.y,stroke:12},null,8,["fromX","fromY","toX","toY"])):f("",!0)],64))),256)),e.current.x?(n(),m(c,{key:0,fromX:e.points[e.points.length-1].x,fromY:e.points[e.points.length-1].y,toX:e.current.x,toY:e.current.y,stroke:12},null,8,["fromX","fromY","toX","toY"])):f("",!0)],64)):(n(),u("div",C," Click to start path "))],64)}var N=y(U,[["render",H]]);v(N).mount("#app");
